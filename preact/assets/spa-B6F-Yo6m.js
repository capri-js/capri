import"./modulepreload-polyfill-B5Qt9EMX.js";import{u as e}from"./hooks.module-BaSe0zhO.js";import{D as u,k as f}from"./preact.module-DGm81ZvO.js";import{P as g}from"./compat.module-CEh79aAd.js";import a from"./counter.island-DvEqC5kK.js";import b from"./expandable.island-CMnFyZWv.js";import _ from"./idle.island-Btzzs4hg.js";import y from"./idle-media.island-DP-mwN-u.js";import v from"./media-query.island-DDSEjmL2.js";import w from"./visible.island-DXGFkFQ4.js";import P from"./visible-media.island-CA4h12Dk.js";function S(){return e("div",{className:"banner",children:"Preview Mode"})}const c=new Map,s=new Map;function x(t){const n=s.get(t);if(n)return n;let i=c.get(t);throw i||(i=fetch(t).then(r=>r.json().then(m=>s.set(t,m))),c.set(t,i)),i}function L({name:t}){const{descriptions:n}=x(`https://digi-api.com/api/v1/digimon/${t}`),i=n.find(r=>r.language.startsWith("en"));return e("div",{children:i==null?void 0:i.description})}let o="/capri/preact/";function h({children:t,href:n,...i}){return o.endsWith("/")&&(o=o.slice(0,-1)),e("a",{href:`${o}${n}`,...i,children:t})}function T(){return e("main",{children:[e("h1",{children:"This page is static"}),e("p",{children:"Since it does not contain any interactive islands, no JavaScript is shipped to the browser!"}),e("p",{children:"It does data though which is fetched from a remote API. Here is some text about a certain digimon:"}),e(g,{fallback:"Loading...",children:e(L,{name:"caprimon"})}),e(h,{href:"/",children:"Home"})]})}const j=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));function M(){const n=new URL(window.location.href).searchParams.get("slug")??"/";return e(p,{path:n})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));function O({children:t}){return e("p",{children:t})}function $(){return e("main",{children:[e("h1",{children:"Partial hydration with Preact and Capri ðŸ‹"}),e("section",{children:"This page is static, but contains some dynamic parts."}),e("section",{children:["Here is a simple counter: ",e(a,{})]}),e("section",{children:["And here is another one, independent from the one above:"," ",e(a,{start:100})]}),e(b,{title:"Click to expand",children:["This island receives children as prop. They are only rendered upon build time.",e(O,{children:["Hence the code for the ",e("code",{children:"Paragraph"})," component won't show up in the client bundle."]})]}),e(v,{}),e("div",{style:{marginTop:"2rem"},children:[e("h2",{children:"Lazy Loading Examples"}),e("div",{style:{height:"100vh"},children:e("p",{children:"â¬‡ï¸ Scroll down to see lazy-loaded islands â¬‡ï¸"})}),e(w,{}),e(_,{})]}),e("div",{style:{marginTop:"2rem"},children:[e("h2",{children:"Combined Strategies Examples"}),e("p",{children:"These islands only hydrate on screens narrower than 1000px:"}),e("div",{style:{height:"100vh"},children:e("p",{children:"â¬‡ï¸ Scroll down and resize your browser â¬‡ï¸"})}),e(P,{}),e(y,{})]}),e(h,{href:"/about",children:"Link to another page"})]})}const k=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),d=Object.assign({"./pages/about.tsx":j,"./pages/preview.tsx":z,"./pages/root.tsx":k}),l="/capri/preact/";function C(t,n){return n.startsWith(l)&&(n=n.slice(l.length)),t.replace(/\broot\b/,"")===`./pages/${n}.tsx`}function p({path:t}){const n=Object.keys(d).find(r=>C(r,t));if(!n)throw new Error("Not found");const i=d[n].default;return e(i,{})}u(e(f,{children:[e(S,{}),e(p,{path:window.location.pathname})]}),document.body);
