import"./modulepreload-polyfill-B5Qt9EMX.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-Dy6lLLXr.js";import{R as m}from"./client-Ci203hj-.js";import s from"./counter.island-DuKnE8Pi.js";import u from"./expandable.island-COKV8YK1.js";import x from"./idle.island-CTtMBKCx.js";import j from"./idle-media.island-CFsSamT3.js";import f from"./media-query.island-CmqbqAVL.js";import g from"./visible.island-Dy8CbCTA.js";import b from"./visible-media.island-CGCZL1Tk.js";function _(){return e.jsx("div",{className:"banner",children:"Preview Mode"})}const a=new Map;function y(n){let t=a.get(n);return t||(t=fetch(n).then(r=>r.json()),a.set(n,t)),t}function v(n){return l.use(y(n))}function w({name:n}){const{descriptions:t}=v(`https://digi-api.com/api/v1/digimon/${n}`),r=t.find(o=>o.language.startsWith("en"));return e.jsx("div",{children:r==null?void 0:r.description})}let i="/capri/react/";function h({children:n,href:t,...r}){return i.endsWith("/")&&(i=i.slice(0,-1)),e.jsx("a",{href:`${i}${t}`,...r,children:n})}function P(){return e.jsxs("main",{children:[e.jsx("h1",{children:"This page is static"}),e.jsx("p",{children:"Since it does not contain any interactive islands, no JavaScript is shipped to the browser!"}),e.jsx("p",{children:"It does data though which is fetched from a remote API. Here is some text about a certain digimon:"}),e.jsx(w,{name:"caprimon"}),e.jsx(h,{href:"/",children:"Home"})]})}const S=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));function M(){const t=new URL(window.location.href).searchParams.get("slug")??"/";return e.jsx(p,{path:t})}const T=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));function L({children:n}){return e.jsx("p",{children:n})}function O(){return e.jsxs("main",{children:[e.jsx("h1",{children:"Partial hydration with React and Capri ðŸ‹"}),e.jsx("section",{children:"This page is static, but contains some dynamic parts."}),e.jsxs("section",{children:["Here is a simple counter: ",e.jsx(s,{})]}),e.jsxs("section",{children:["And here is another one, independent from the one above:"," ",e.jsx(s,{start:100})]}),e.jsxs(u,{title:"Click to expand",children:["This island receives children as prop. They are only rendered upon build time.",e.jsxs(L,{children:["Hence the code for the ",e.jsx("code",{children:"Paragraph"})," component won't show up in the client bundle."]})]}),e.jsx(f,{}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h2",{children:"Lazy Loading Examples"}),e.jsx("div",{style:{height:"100vh"},children:e.jsx("p",{children:"â¬‡ï¸ Scroll down to see lazy-loaded islands â¬‡ï¸"})}),e.jsx(g,{}),e.jsx(x,{})]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h2",{children:"Combined Strategies Examples"}),e.jsx("p",{children:"These islands only hydrate on screens narrower than 1000px:"}),e.jsx("div",{style:{height:"100vh"},children:e.jsx("p",{children:"â¬‡ï¸ Scroll down and resize your browser â¬‡ï¸"})}),e.jsx(b,{}),e.jsx(j,{})]}),e.jsx(h,{href:"/about",children:"Link to another page"})]})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),c=Object.assign({"./pages/about.tsx":S,"./pages/preview.tsx":T,"./pages/root.tsx":z}),d="/capri/react/";function $(n,t){return t.startsWith(d)&&(t=t.slice(d.length)),n.replace(/\broot\b/,"")===`./pages/${t}.tsx`}function p({path:n}){const t=Object.keys(c).find(o=>$(o,n));if(!t)throw new Error("Not found");const r=c[t].default;return e.jsx(r,{})}m.createRoot(document.getElementById("app")).render(e.jsxs(l.StrictMode,{children:[e.jsx(_,{}),e.jsx(p,{path:window.location.pathname})]}));
